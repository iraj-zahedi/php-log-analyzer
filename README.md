# ุชุญููฺฏุฑ ุฌุงูุน ูุงฺฏ ุณุฑูุฑ ุจุง PHP
[ุงุณฺฉุฑู ุดุงุช 1](https://raw.githubusercontent.com/iraj-zahedi/php-log-analyzer/refs/heads/main/log-analyzer1.png)

[ุงุณฺฉุฑู ุดุงุช 2](https://raw.githubusercontent.com/iraj-zahedi/php-log-analyzer/refs/heads/main/log-analyzer2.png)

[ุงุณฺฉุฑู ุดุงุช 3](https://raw.githubusercontent.com/iraj-zahedi/php-log-analyzer/refs/heads/main/log-analyzer3.png)

[ุงุณฺฉุฑู ุดุงุช 4](https://raw.githubusercontent.com/iraj-zahedi/php-log-analyzer/refs/heads/main/log-analyzer4.png)

ุงุจุฒุงุฑ ูุฏุฑุชููุฏุ ุณุจฺฉ ู **ุชฺฉ-ูุงู** ุจุฑุง ุชุญูู ุขู ูุงฺฏโูุง ุณุฑูุฑ ูููฺฉุณ. ุงู ุงุณฺฉุฑูพุช ุจู ุดูุง ฺฉูฺฉ ูโฺฉูุฏ ุชุง ุญููุงุชุ ุฎุทุงูุง ุณุณุชู ู ุฑูุฏุงุฏูุง ุงููุช ุฑุง ุจู ุณุฑุนุช ุดูุงุณุง ฺฉุฑุฏู ู ุงุฒ ุทุฑู ฺฉ ุฏุงุดุจูุฑุฏ ฺฏุฑุงูฺฉ ู ุชุนุงููุ ูุถุนุช ุณุฑูุฑ ุฎูุฏ ุฑุง ูุงูุชูุฑ ฺฉูุฏ.

ุงู ุงุจุฒุงุฑ ุจุฏูู ูุงุฒ ุจู ุฏุชุงุจุณุ ฺฉุงููพูุฒุฑ ุง ูุฑฺฏููู ูุงุจุณุชฺฏ ุฎุงุฑุฌ ฺฉุงุฑ ูโฺฉูุฏ ู ุจุฑุง ูุฏุฑุงู ุณุฑูุฑุ ุชูุณุนูโุฏููุฏฺฏุงู ูุจ ู ูุชุฎุตุตุงู ุงููุช ุงุฏูโุขู ุงุณุช.


---

## โจ ูฺฺฏโูุง ฺฉูุฏ

### ฑ. ุฏุงุดุจูุฑุฏ ุชุนุงูู ู ููุดููุฏ
-   **ุฏุงุดุจูุฑุฏ ูุจุชู ุจุฑ ุชุจ:** ุชูฺฉฺฉ ฺฏุฒุงุฑุดโูุง ุฏุฑ ุจุฎุดโูุง "ุฑูุฏุงุฏูุง ุฒูุฏู"ุ "ุขูุงุฑูุง" ู "ููุงุฌูุงู ุจุฑุชุฑ".
-   **ุฌุณุชุฌู ุณุฑุงุณุฑ ูุฏุฑุชููุฏ:** ุฌุณุชุฌู ฺฉ ุนุจุงุฑุช (ูุงููุฏ IP ุง ูพุงู ุฎุทุง) ุฏุฑ **ุชูุงู** ูุงูโูุง ูุงฺฏ ุจู ุตูุฑุช ุขู.
-   **ูููุฏุงุฑูุง ฺฏุฑุงูฺฉ (Google Charts):** ููุงุด ุชุตูุฑ ุขูุงุฑูุงุ ุงุฒ ุฌููู ููุดู ุฌุบุฑุงูุง ุญููุงุชุ ุฑูุฏุงุฏูุง ุฏุฑ ฒด ุณุงุนุช ฺฏุฐุดุชู ู ุฏุฑุตุฏ ุงููุงุน ุฑูุฏุงุฏูุง.
-   **ููฺฉโูุง ููุดููุฏ:** ุงูฺฉุงู ฺฉูฺฉ ูุณุชูู ุจุฑ ุฑู IP ููุงุฌูุงู ุจุฑุง ูุดุงูุฏู ุชูุงู ูุนุงูุชโูุง ุซุจุชโุดุฏู ุงุฒ ุขูโูุง.
-   **ููุชุฑุณุงุฒ ูพุดุฑูุชู:** ูุนุงู ุง ุบุฑูุนุงู ฺฉุฑุฏู ููุงุด ุงููุงุน ุฎุงุต ุงุฒ ูุงฺฏโูุง.

### ฒ. ุชุญูู ุฌุงูุน ุงููุช
-   **ูุจโุณุฑูุฑ (Apache):** ุดูุงุณุง ุฎุทุงูุง ุฏุณุชุฑุณุ ูุดฺฉูุงุช SSL ู ุฎุทุงูุง ูุฑุจูุท ุจู PHP-FPM.
-   **ูุงุฑูุงู ูุจ (ModSecurity):** ููุงุด ุญููุงุช ุดูุงุณุงโุดุฏู ู ูุณุฏูุฏ ุดุฏู ุชูุณุท WAF.
-   **ุณุฑูุณโูุง (SSH, Email):** ุชุดุฎุต ุญููุงุช Brute-Force ุจู ุณุฑูุณโูุง SSH ู ุณุฑูุฑ ุงูู (Dovecot/Exim).
-   **ูุฑูโุงูุฒุงุฑ ุงููุช (Fail2ban):** ูุงูุชูุฑ ฺฉุฑุฏู ุนููฺฉุฑุฏ Fail2ban ู ุดูุงุณุง IPูุง ูุณุฏูุฏ ุง ุขุฒุงุฏ ุดุฏู ู ุฎุทุงูุง ุงุฌุฑุง ุขู.
-   **ุญููุงุช ูุจ:** ุดูุงุณุง ุชูุงุด ุจุฑุง ุญููุงุช ุฑุงุฌ ูุงููุฏ SQL Injection, XSS, Path Traversal ู Command Injection.

### ณ. ูุงูุชูุฑูฺฏ ุณูุงูุช ุณุณุชู
-   **ุฎุทุงูุง ุจุญุฑุงู ฺฉุฑูู:** ุดูุงุณุง Kernel Panic ู ุฎุทุงูุง ุณุฎุชโุงูุฒุงุฑ (I/O) ฺฉู ูุดุงูโุฏููุฏู ูุดฺฉูุงุช ุฌุฏ ุณุฑูุฑ ูุณุชูุฏ.
-   **ูุฏุฑุช ููุงุจุน:** ุชุดุฎุต ูุดฺฉูุงุช ฺฉูุจูุฏ ุญุงูุธู (OOM Killer) ู ูุฑุขูุฏูุง ฺฉู ุจู ุงุฌุจุงุฑ ูุชููู ุดุฏูโุงูุฏ.
-   **ุฑูุฏุงุฏูุง ุณุณุชู:** ุซุจุช ุฑโุงุณุชุงุฑุชโูุง ุณุฑูุฑ ู ุงุณุชูุงุฏู ุงุฒ ุฏุณุชูุฑุงุช ุจุง ุฏุณุชุฑุณ ุจุงูุง (Sudo).

---

## ๐ ูุตุจ ู ุฑุงูโุงูุฏุงุฒ

ูุตุจ ุงู ุงุจุฒุงุฑ ุจุณุงุฑ ุณุงุฏู ุงุณุช. ฺฉุงูุณุช ฺฉ ูุงู ุฑุง ุขูพููุฏ ู ูพฺฉุฑุจูุฏ ฺฉูุฏ.

### ูพุดโูุงุฒูุง
-   ุณุฑูุฑ ูููฺฉุณ (VPS ุง ุงุฎุชุตุงุต).
-   PHP ูุณุฎู ท.ฐ ุง ุจุงูุงุชุฑ.
-   ุฏุณุชุฑุณ ุจู ุชุฑููุงู ุณุฑูุฑ (SSH).

### ูุฑุงุญู ูุตุจ

1.  **ุขูพููุฏ ุงุณฺฉุฑูพุช:** ูุงู ุงุณฺฉุฑูพุช (`log_analyzer.php`) ุฑุง ุฏุฑ ูุณุฑ ุฏูุฎูุงู ุฎูุฏ ุฑู ุณุฑูุฑ ุขูพููุฏ ฺฉูุฏ (ูุซูุงู ุฏุฑ ฺฉ ุณุงุจโุฏุงูู ูุงููุฏ `analyzer.yourdomain.com`).

2.  **ูพฺฉุฑุจูุฏ ูุณุฑ ูุงฺฏโูุง:** ุงุณฺฉุฑูพุช ุฑุง ุจุงุฒ ฺฉุฑุฏู ู ุฏุฑ ุจุฎุด ูพฺฉุฑุจูุฏุ ุขุฑุงู `$logFiles` ุฑุง ูุชูุงุณุจ ุจุง ุณุณุชูโุนุงูู ุณุฑูุฑ ุฎูุฏ ูุฑุงุด ฺฉูุฏ. **ุฎุทูุท ูุฑุจูุท ุจู ูุงฺฏโูุง ููุฌูุฏ ุฏุฑ ุณุฑูุฑ ุฎูุฏ ุฑุง ุงุฒ ุญุงูุช ฺฉุงููุช ุฎุงุฑุฌ ฺฉูุฏ:**
    ```php
    $logFiles = [
        // ูุซุงู ุจุฑุง ุณุฑูุฑ CentOS/RHEL ุจุง ุขูพุงฺ
        '/var/log/httpd/access_log',
        '/var/log/httpd/error_log',
        '/var/log/secure',
        '/var/log/messages',
        '/var/log/maillog',
        '/var/log/fail2ban.log',

        // ูุซุงู ุจุฑุง ุณุฑูุฑ Debian/Ubuntu ุจุง ุขูพุงฺ
        // '/var/log/apache2/access.log',
        // '/var/log/apache2/error.log',
        // '/var/log/auth.log',
        // '/var/log/syslog',
    ];
    ```

3.  **ุชูุธู ุฏุณุชุฑุณโูุง (ูููโุชุฑู ูุฑุญูู):**
    ฺฉุงุฑุจุฑ ูุจโุณุฑูุฑ ุดูุง (ูุนูููุงู `apache` ุฏุฑ CentOS ุง `www-data` ุฏุฑ Ubuntu) ุจุงุฏ ุงุฌุงุฒู ุฎูุงูุฏู ุงู ูุงูโูุง ุฑุง ุฏุงุดุชู ุจุงุดุฏ. ุฏุณุชูุฑุงุช ุฒุฑ ุฑุง ุงุฒ ุทุฑู SSH ุงุฌุฑุง ฺฉูุฏ:
    
    > **ูฺฉุชู:** ุจุฑุง ูุตุจ `setfacl` ุฏุฑ ุตูุฑุช ุนุฏู ูุฌูุฏุ ุงุฒ `sudo yum install acl` ุง `sudo apt-get install acl` ุงุณุชูุงุฏู ฺฉูุฏ.

    ```bash
    # ูุซุงู ุจุฑุง CentOS/RHEL (ฺฉุงุฑุจุฑ apache)
    sudo setfacl -m u:apache:r /var/log/messages /var/log/secure /var/log/maillog /var/log/fail2ban.log

    # ูุซุงู ุจุฑุง Debian/Ubuntu (ฺฉุงุฑุจุฑ www-data)
    sudo setfacl -m u:www-data:r /var/log/syslog /var/log/auth.log /var/log/mail.log /var/log/fail2ban.log
    ```

4.  **๐ ุงููโุณุงุฒ ุงุณฺฉุฑูพุช (ุจุณุงุฑ ููู):**
    ุงู ุงุณฺฉุฑูพุช ุงุทูุงุนุงุช ุญุณุงุณ ุฑุง ููุงุด ูโุฏูุฏ. **ุญุชูุงู** ุฏุณุชุฑุณ ุจู ุขู ุฑุง ุจุง ุฑูุฒ ุนุจูุฑ ูุญุฏูุฏ ฺฉูุฏ.
    -   ฺฉ ูุงู `.htaccess` ุฏุฑ ฺฉูุงุฑ ุงุณฺฉุฑูพุช ุฎูุฏ ุงุฌุงุฏ ฺฉุฑุฏู ู ูุญุชูุง ุฒุฑ ุฑุง ุฏุฑ ุขู ูุฑุงุฑ ุฏูุฏ (ูุณุฑ ูุงู ุฑูุฒ ุฑุง ุงุตูุงุญ ฺฉูุฏ):
        ```apache
        AuthType Basic
        AuthName "Restricted Area"
        AuthUserFile /path/to/your/.htpasswd
        Require valid-user
        ```
    -   ุจุง ุฏุณุชูุฑ `htpasswd` ฺฉ ูุงู ุฑูุฒ ุนุจูุฑ ุจุณุงุฒุฏ (your_username ุฑุง ุจุง ูุงู ฺฉุงุฑุจุฑ ุฏูุฎูุงู ุฌุงฺฏุฒู ฺฉูุฏ):
        ```bash
        htpasswd -c /path/to/your/.htpasswd your_username
        ```

5.  **ูุดุงูุฏู ฺฏุฒุงุฑุด:** ูุงู PHP ุฑุง ุฏุฑ ูุฑูุฑฺฏุฑ ุฎูุฏ ุจุงุฒ ฺฉุฑุฏู ู ุจุง ูุงู ฺฉุงุฑุจุฑ ู ุฑูุฒ ุนุจูุฑ ฺฉู ุณุงุฎุชุฏุ ูุงุฑุฏ ุดูุฏ.

---


ุจุฑุง ุขุดูุง ฺฉุงููโุชุฑ ุจุง ุงู ุงุจุฒุงุฑุ ูุทุงูุนู ููุงูู ุฒุฑ ุฑุง ุฏุฑ ุณุงุช ุจููุณุฑูุฑ ุชูุตู ูโฺฉูู:
[ุชุญููฺฏุฑ ูุงฺฏ ุณุฑูุฑ ุจุง PHP โ ุงุจุฒุงุฑ ูุชูโุจุงุฒ ุจููุณุฑูุฑ ุจุฑุง ุงููุช ู ูุงูุชูุฑูฺฏ](https://blueserver.ir/blueserver-php-log-analyzer)
